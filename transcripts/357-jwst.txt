00:00:00 Telescopes have been fundamental in our understanding of our place in the universe.

00:00:04 And when you think about images that have shaped our modern view of space,

00:00:07 you probably think about Hubble.

00:00:09 But just this year, the JWST or James Webb Space Telescope was launched.

00:00:15 JWST will go far beyond what Hubble has discovered.

00:00:18 And did you know that Python is used extensively in the whole data pipeline of JWST?

00:00:24 We have two great guests here to tell us all about it, Megan Soze and Mike Swam.

00:00:29 This is Talk Python To Me, episode 357, recorded February 23rd, 2022.

00:00:35 Welcome to Talk Python To Me, a weekly podcast on Python.

00:00:51 This is your host, Michael Kennedy.

00:00:52 Follow me on Twitter where I'm @mkennedy and keep up with the show and listen to past episodes at talkpython.fm.

00:00:58 And follow the show on Twitter via at Talk Python.

00:01:02 We've started streaming most of our episodes live on YouTube.

00:01:05 Subscribe to our YouTube channel over at talkpython.fm/youtube to get notified about upcoming shows and be part of that episode.

00:01:13 This episode is brought to you by Datadog and Stack Overflow.

00:01:18 Transcripts for this and all of our episodes are brought to you by Assembly AI.

00:01:22 Do you need a great automatic speech to text API?

00:01:25 Get human level accuracy in just a few lines of code.

00:01:28 Visit talkpython.fm/assemblyai.

00:01:30 Megan and Mike, welcome to Talk Python To Me.

00:01:34 We're happy to be here.

00:01:35 It's great to have you here.

00:01:36 I'm such a fan of space and just it's amazing to think about our place in the universe

00:01:44 and where we are.

00:01:46 And so much of that has been revealed really through telescopes, right?

00:01:51 From the very beginning of like, oh, look, the sun doesn't rotate around us.

00:01:54 How weird to, you know, the universe is expanding with what Hubble did or just all the amazing discoveries we've had, the exoplanets and whatnot.

00:02:02 So super cool.

00:02:04 And if we're going to mix Python into that, it's definitely an interesting thing to do.

00:02:08 So I'm happy to have you both here to talk about that.

00:02:10 Yeah, we're happy to join you.

00:02:11 It's a pleasure.

00:02:12 Yeah, it's great.

00:02:13 Let's just really quickly before we get into the topics, maybe start with just a little bit of a story on your background.

00:02:18 Now, Megan, how'd you get into programming and find your way over to Python?

00:02:22 Yeah, so programming.

00:02:23 I started young and it was mostly because I was jealous of some of the other kids.

00:02:29 This is the early 80s that had access to the new Atari systems, the new Coleco Visions.

00:02:34 And I didn't really have that.

00:02:36 I wanted to be able to play games and do those types of things.

00:02:39 And as it turned out, my dad had just bought one of these new computers in Osborne,

00:02:45 which is kind of one of the early personal laptops.

00:02:47 That was one of the very early ones.

00:02:49 It might be the first laptop, a very heavy laptop, though.

00:02:53 Probably not as good battery life as today either, I would suspect.

00:02:57 I don't think there's no battery life.

00:02:59 Yeah.

00:02:59 And it only had a small green screen and you couldn't display graphics.

00:03:04 But I was determined I was going to play a game on it.

00:03:06 So I found this programming book in BASIC for microprocessors and followed along,

00:03:15 learned what it was doing to create responses on the screen.

00:03:18 I ended up making things like Mad Libs and choose your own adventure and ASCII art and

00:03:24 stuff like that.

00:03:25 And just learning what the commands I was doing really did.

00:03:28 So that got me into programming that I kind of just did that on and off.

00:03:32 It was really strange, even though I was always working with computers.

00:03:36 When I hit college, nobody ever suggested to me that I should do computer science or that

00:03:40 I should be a programmer or that I should do this other thing.

00:03:43 So I went along with some of my other interests, which were astronomy and physics and music.

00:03:47 But even in astronomy software and software engineering and working with computers is a must.

00:03:54 And after I started working at the Institute for a few years, Python started to become a much more used language.

00:04:01 It's something that could provide real benefit for the scientific community.

00:04:05 And so I started learning that.

00:04:07 And that's how I got into Python.

00:04:09 Wow, fantastic.

00:04:09 The days of just holding up a telescope and looking at stuff, those are pretty long gone, right?

00:04:15 Yeah, they're pretty long gone.

00:04:17 In fact, most astronomers don't even get to go to the telescope on the ground anymore.

00:04:21 There's a lot of remote observing.

00:04:23 It was starting to switch over when I was in college.

00:04:26 It's much, much heavier now.

00:04:28 Yeah.

00:04:28 Yeah.

00:04:28 I can imagine.

00:04:29 What a bummer.

00:04:30 Those are amazing places.

00:04:31 Yeah.

00:04:31 How about you?

00:04:33 How do you get into programming, Python?

00:04:34 Yeah, for me, I dabbed a toe in it in high school with a Fortran class.

00:04:37 We actually got bussed over to another school to run our deck of cards through someone else's computer.

00:04:41 Oh, with cards.

00:04:42 That's another level right there.

00:04:44 I'm that ancient.

00:04:44 And then in college, a few classes here and there.

00:04:47 And then when I got out, one of the only skills I had was programming.

00:04:51 So I had a math degree.

00:04:53 And so I started with programming in Fortran at the start, but then got into other languages

00:04:59 and eventually got to Space Telescope in 1996 and have been here ever since.

00:05:04 It started with Python in about 2002.

00:05:06 There was a software conference called ADAS, A-D-A-S-S, Astronomy, Data Analysis and Software

00:05:13 Systems.

00:05:13 And we put one on, the institute that I work at, put one on in 2002 in Baltimore.

00:05:18 And Python was really a highlight of that conference.

00:05:21 It was really coming into its own.

00:05:22 And that just kind of broke the door down for everyone at the institute.

00:05:25 Oh, that's cool.

00:05:26 Behind one of our founders, Perry Greenfield, who works at the institute, is very, very big

00:05:31 in the Python community.

00:05:32 And he kind of led the way and we all followed.

00:05:34 Right on.

00:05:34 Well, it's certainly an amazing language for data science and for working with things like

00:05:41 these telescopes and whatnot.

00:05:42 So it has a special blend of approachability, but you can actually do quite a bit of real

00:05:48 stuff with it.

00:05:49 Whereas, you know, so many other languages are either approachable or you can do real stuff,

00:05:53 but not both.

00:05:53 Yeah.

00:05:54 It also cuts down a lot on development time and lines of code and stuff like that, which

00:05:59 makes it a lot easier to maintain larger systems that can handle the Python.

00:06:03 Yeah, absolutely.

00:06:04 I was so impressed with the clarity.

00:06:05 When you looked at a piece of Python code, you stripped away all the syntax and all the

00:06:09 language decorations and it was just, the design was staring at you.

00:06:13 So to me, it's the simplicity of it that's the best feature.

00:06:16 Yeah, absolutely.

00:06:17 So let's start a conversation maybe by talking about where you two work at the Space Telescope

00:06:25 Science Institute.

00:06:26 It just sounds so amazing.

00:06:28 That is a cool thing.

00:06:31 Yeah.

00:06:31 So what do you do there?

00:06:32 Megan, you want to go first?

00:06:33 Yeah, sure.

00:06:34 So right now I'm the technical lead for the data management system that's going to be accepting

00:06:41 and processing and distributing all of the data that we're getting from one of the next

00:06:46 big telescopes, the Nancy Gates Roman Space Telescope.

00:06:48 So my day-to-day job is making sure that all that is designed and functioning and data is

00:06:55 flowing through and the software we're going to write for scientists to do analysis of that

00:06:59 data will run and is appropriate and accessible.

00:07:02 That's kind of my, that's my day-to-day.

00:07:04 Before that, I worked heavily on post-pipeline scientific analysis processing software.

00:07:11 So visualization tools, data analysis tools, things that really the astronomy community

00:07:17 uses after we've constructed the data for them from the telescope.

00:07:22 Okay.

00:07:22 Tell us just a little bit about the data story of this.

00:07:26 There must be a lot of data coming off of these newer telescopes with their huge resolution.

00:07:31 Yeah.

00:07:31 So there is a lot of data coming down.

00:07:33 The detectors on board JWST are 2,000 pixels by 2,000 pixels.

00:07:39 And there's a lot of them and there's a lot of instruments.

00:07:41 And so we have to be able to manage all of that data stream coming through.

00:07:45 And I might let Mike talk a little bit here since he works heavily on the ops side of the house,

00:07:50 helping with managing that data.

00:07:52 All right, Mike.

00:07:53 Yeah.

00:07:53 Take it away.

00:07:54 What's your role at ST Sci?

00:07:56 My role is, yeah, it is a team lead for the data processing team, also a scrum lead.

00:08:02 We use the agile approach to software development.

00:08:05 And I'm focused completely on JWST science data processing and guider data processing.

00:08:10 The data comes down to us through the deep space network of NASA and hits the ground,

00:08:16 comes up to us at Baltimore.

00:08:18 We have the control center right at the building, so they're actually talking to the observatory

00:08:21 through the tel, right through there, our main building.

00:08:24 And then the data feeds down to our processing systems.

00:08:27 And that's where my code comes in.

00:08:29 Making sure we got all the data, completeness checking, sending the data through the pipelines

00:08:34 and the processing systems with the right processing recipe so that we get the right kind of data

00:08:39 products out and getting them into our archive.

00:08:40 The Institute has a well-known archive for astronomy data.

00:08:45 And that's where a lot of astronomers come to do research and find data sets that they

00:08:49 can use in their science.

00:08:49 A lot of that data is public, right?

00:08:51 It is.

00:08:52 It is very much so.

00:08:54 There's a proprietary period for some kinds of data so that scientists have a chance to

00:08:59 write their special papers that they proposed for.

00:09:02 But a lot of data is made immediately public.

00:09:04 And then other data becomes public after a bit of a window.

00:09:08 Oh, interesting.

00:09:09 So you might write a proposal for time on web or one of the telescopes.

00:09:15 And then if that's approved, then you get your time, then you get your data.

00:09:19 And of course, it wouldn't make sense to just instantly publish that because that's part of

00:09:23 your work, right?

00:09:25 Yeah.

00:09:25 And so this is actually, you know, pieces of the entire process.

00:09:30 The whole world of astronomers is allowed to propose to use these telescopes.

00:09:35 And there's a telescope review process that happens where they submit their suggestions.

00:09:42 This is what I want to do.

00:09:43 This is how awesome the data is going to be.

00:09:45 This is what I'm going to provide to the community and the discoveries I think I'll make.

00:09:48 And a team of experts, you know, agrees and decides how much time everybody is going to get.

00:09:55 And we have a lot of tools on what you might think of as the front end of this process

00:10:00 to help them figure out, you know, how long do the observations have to be?

00:10:04 If I'm looking through these filters and these wavelengths, what kind of errors am I going

00:10:09 to get?

00:10:09 You know, what's the exposure time?

00:10:10 How should I most effectively use the telescope time to get the science out?

00:10:15 Because telescope time is always, it's gold, right?

00:10:18 Right.

00:10:18 Absolutely.

00:10:19 There's one and only one of these things, right?

00:10:21 Yeah.

00:10:22 This particular one.

00:10:23 I didn't really think about that you, for asking different types of questions, there

00:10:28 was a different amount of time that you might need.

00:10:31 I mean, obviously, if you're going to stare at space for a certain amount of time, it's

00:10:34 going to take that time.

00:10:35 But I hadn't really thought about the different processing pipelines might require more data

00:10:41 to get the right level of accuracy and stuff.

00:10:43 That's pretty interesting.

00:10:44 Yeah.

00:10:44 So it really does depend on what you want to get out of it.

00:10:48 When you insert in different wavelengths, you have to look at those things for a long enough

00:10:52 amount of time to collect the light, to get statistical certainty, to get detections.

00:10:57 But then you have to play that against the fact that as you look longer and deeper, your

00:11:04 field might get more crowded because you'll be able to pick up light from more distant objects.

00:11:08 You may have things that are called cosmic rays, extra energy that gets added into the

00:11:14 detector that you don't want.

00:11:15 That's not from your object, that's just messing up your data.

00:11:18 And the pipelines take these things into account.

00:11:21 We look for things that are, oh, this is not coming from the object.

00:11:24 This is coming from something in space that we don't want to detect right now or something

00:11:30 that is being imparted by the instrument onto the data.

00:11:33 And we want to remove the instrumental signatures.

00:11:35 So that's what a lot of the processing software tries to look at.

00:11:38 Yeah.

00:11:38 Fantastic.

00:11:39 Mike, anything you want to add to that?

00:11:41 Just one other kind of data is time-dependent data.

00:11:43 You may need to look at objects over time, either calendar time or even many hours or many

00:11:49 days to see variability.

00:11:50 And that's a big part of some of the data sets is they just stretch on for time so that you can look for

00:11:56 planetary transits or flares or various phenomena that might vary over time.

00:12:01 Yeah.

00:12:01 How interesting.

00:12:02 One of the goals that Webb is trying to solve is to detect exoplanets, right?

00:12:08 And for those, you've got to watch multiple years of whatever that planet's year orbital

00:12:14 time is, right?

00:12:15 If it takes it three months to go around, you've got to watch the star for several three-month

00:12:20 periods, right?

00:12:21 Well, and even in the case that you don't know that the stars have planets, you want to find

00:12:25 new ones.

00:12:25 You need to go back and look at that star multiple times so that you can detect that difference

00:12:30 in the light that it's emitting.

00:12:32 So when the planet goes across the star amount, some light is going to be dimmed by that.

00:12:37 Or if you're looking at spectroscopy, you might see the starlight passing through the atmosphere

00:12:43 of the planet itself.

00:12:45 Yeah.

00:12:45 Fantastic.

00:12:45 All right.

00:12:46 I want to dive into the Python side, given that that's what most people are interested in.

00:12:50 But before we get into that, let's just talk real briefly about what are some of the science

00:12:55 missions and how is this, say, different than Hubble?

00:12:58 It looks really different than Hubble, right?

00:13:01 It's this bunch of hexagon gold plates that unfold instead of being a tube like a traditional,

00:13:07 even, you know, the sort of space telescope like Hubble is.

00:13:10 It's got a tennis court sized shield around it and stuff.

00:13:15 So whoever wants to jump in, tell us a bit about just like what is the goal and the science

00:13:20 of Webb?

00:13:21 Yeah.

00:13:21 So Webb is really the largest space telescope.

00:13:24 It does have segmented mirrors, 18 of them, that can be adjusted to make sure that the focus

00:13:31 is good.

00:13:32 It's something like six meters across.

00:13:34 It's really big.

00:13:35 It's six and a half meters across the mirror.

00:13:37 I think it's something like 21 feet in diameter, something like that.

00:13:43 One of the things that makes it different from Hubble is not only the size of the mirror and

00:13:48 the size of the telescope, but Hubble orbits the Earth.

00:13:51 And JWST is demonstrably not orbiting the Earth.

00:13:55 It's not very close at all.

00:13:57 It's out at the second Lagrangian point, which is a more stable point that things orbiting into

00:14:04 the Earth's sun system tend to collect at.

00:14:07 And it's not even at that point.

00:14:09 It's orbiting around that point and facing away from the Earth.

00:14:13 And so one of the things that's really important for Webb is that it stays cool, that its instruments

00:14:18 stay cool.

00:14:18 And that's why it has this big sun shield.

00:14:20 And so the cold side of the telescope is where we have all of our instrument packages.

00:14:25 And that allows it to pick up this infrared wavelength of light, which is sensitive to heat.

00:14:31 And it allows it to do the science that we need to do to look at dust and look through dust and look all the way back, you know, to the very earliest time just after the Big Bang when light was starting to be visible, to collect and start to form objects and stuff like that.

00:14:49 So the design of the telescope is very much to enable the science that's possible with it.

00:14:53 And Hubble uses visible light?

00:14:55 Is that the difference?

00:14:56 So Hubble has a range.

00:14:57 Hubble actually has instrumentation that looks at UV, visible and then near infrared.

00:15:04 So it has a little bit of everything.

00:15:06 JWST also looks at near infrared, but it goes much further out into the mid infrared as well.

00:15:11 And I guess that goes through dust clouds and things like that better.

00:15:15 It can.

00:15:15 So you can switch between the different wavelengths of light depending on what types of phenomena you want to see.

00:15:22 But also because we want to look very far back in time, what happens and what enables us to do that is the red shifting of the light.

00:15:30 So because after the Big Bang and the expansion of the universe, the light gets stretched by the expansion of space.

00:15:38 To look back in time, you want to look at the light that is of that similar wavelength that's been stretched.

00:15:43 So that's why we're looking in the infrared wavelengths.

00:15:47 This portion of Talk Python To Me is brought to you by Datadog.

00:15:50 Let me ask you a question.

00:15:52 Are you having trouble locating the bug in your app's code or identifying the cause of your application's latency?

00:15:58 Track your Python app's performance with end-to-end tracing using Datadog's Application Performance Monitoring, or APM.

00:16:06 Datadog's APM generates detailed flame graphs to help you debug and optimize your Python code by tracing requests across web servers,

00:16:14 database calls, and services in your environment.

00:16:17 Without switching tools for context, you can navigate seamlessly to related logs and metrics within the same UI to troubleshoot errors fast.

00:16:25 Break down inefficient silos between your dev and ops teams and visualize your application's performance end-to-end.

00:16:32 Allow your development team to focus on revenue-generating projects and releasing applications faster to market.

00:16:40 Get started with a free trial of Datadog APM at talkpython.fm/Datadog, or just click the link in your podcast player show notes.

00:16:48 Thank you so much to Datadog for supporting the show.

00:16:53 So what are some of the missions?

00:16:55 I talked about the, you know, we talked about the exoplanet a bit.

00:16:59 Exoplanets, galaxy history, evolution.

00:17:02 Star formation.

00:17:03 Star formation.

00:17:04 Star formation.

00:17:05 Looking at the chemical composition of the galaxies and of stars.

00:17:10 So it really uses this combination of spectroscopy, imaging, and coronography.

00:17:15 And the coronography is excellent for exoplanets because it allows you to put, you know, basically put a stopper in front of the star

00:17:23 and look for really, really dim things that are very close to it.

00:17:27 Yeah.

00:17:27 Solar system objects as well, and even things out in the comet, you know, or cloud.

00:17:33 On the Kuiper belt.

00:17:34 Things that we just can't see.

00:17:35 We don't have anything that can get out there in the infrared like this telescope we'll be able to.

00:17:39 That's going to be super exciting.

00:17:41 Hubble really changed people's view of the world, right?

00:17:45 I'm seeing all the, like the sky full of galaxies and stuff like that.

00:17:50 What do you think we're going to learn?

00:17:52 I mean, maybe it's too hard to predict, but what do you think is going to be surprising?

00:17:56 Or what types of things do you think we're going to learn and change our perspective with this?

00:18:00 I guess what I hear from most of the scientists is they know they're going to find out things that they never even thought of

00:18:06 because that's what Hubble brought.

00:18:07 And when you put something up that's this groundbreaking, that it goes so far beyond what we can currently do,

00:18:13 there's going to be just surprises that are just going to blow people's minds because they did not think that things were even possible.

00:18:19 Hubble basically was involved in finding the acceleration of the universe, expansion, and that wasn't even conceived of.

00:18:26 So things that are groundbreaking and just never thought of, the astronomers are open to those,

00:18:32 and they're waiting for the data to come in to start to get to look.

00:18:35 Yeah, fantastic.

00:18:36 All right, speaking of data, let's start talking about that side, Mike.

00:18:41 You said the data comes in over the Deep Space Network.

00:18:45 Is that my name?

00:18:46 Yeah, the Deep Space Network.

00:18:48 Tell us about the kind of data coming in and how that all works.

00:18:52 Sure. The Deep Space Network is what we use to talk to the observatory.

00:18:56 We get a couple contacts.

00:18:58 Well, eventually, when it's in steady state operations, we'll get a couple contacts a day where it'll download the data to us.

00:19:03 Right now, we're in fairly steady contact.

00:19:05 There are three ground stations around the world in Australia, California, and Spain that kind of give nearly continuous coverage.

00:19:13 So they're getting the data down.

00:19:15 What kind of bandwidth can you get on this network?

00:19:18 These networks are big antennas, and we share this with other missions, with other things that are in space that need to communicate.

00:19:24 Like Mars rovers and whatnot.

00:19:26 Like Mars rovers and stuff.

00:19:27 And they typically operate in the KA and S-band regions.

00:19:32 Yeah, cool.

00:19:33 All right.

00:19:34 I'm sorry.

00:19:34 I didn't mean to derail you, Mike.

00:19:35 Go ahead.

00:19:35 No, all good.

00:19:36 So the data comes down to the Deep Space Network facilities.

00:19:39 It gets transferred up to the Institute, which is in Baltimore, to our flight ops team, the flight observation system.

00:19:46 They get the data in several forms.

00:19:48 They get binary files right off the flight data recorders.

00:19:52 There's a recorder that captures both science data from the science instruments and engineering data that's monitoring the state of the telescope temperatures and pressures and various things.

00:20:01 Right, of course.

00:20:01 Because there's a whole control center going, it's focused right, it's still running, and things like that.

00:20:07 Absolutely.

00:20:07 Yeah.

00:20:08 They have the health and safety of the observatory and then the science as well.

00:20:11 So we get those binary files that come up.

00:20:14 We get auxiliary files that are processed on the ground.

00:20:17 We take the engineering data that comes down, extract out some really key parameters that are necessary for the data processing and put those in special files and send those over to our data processing system, along with kind of a summary of what the telescope was doing since we last contacted.

00:20:31 So we know, I'd observe these things and these observations worked, these had problems, gives us kind of a status of things.

00:20:38 And the other kind of data that we absolutely need is called ephemeris data.

00:20:41 It tells us exactly where the telescope was at any given time, which can be important for some types of science.

00:20:47 So all that data flows our way in files.

00:20:49 We use Python tasks to whole a common disk area that files are dumped in and pick them up and transfer them to our processing system.

00:20:57 So the telescopes receive the data, that gets processed probably at the tele, not the telescope.

00:21:02 Ground stations.

00:21:03 Ground stations.

00:21:03 Ground stations.

00:21:03 They receive it.

00:21:04 Yeah.

00:21:04 And then that gets sent probably over the internet, gets dropped into some like a local file or some cloud storage.

00:21:10 You're watching that and then Python picks it up from there.

00:21:13 That's right.

00:21:13 That's right.

00:21:14 We pick it up.

00:21:15 We segregate what kind of data each is, send it on for various kinds of processing.

00:21:19 We put a lot of that, those data files, right as they come in the door in our archive.

00:21:22 So if we need to get them back out to look at them later, we can.

00:21:26 We use a system of, for kind of distributing the processing called HT Condor.

00:21:32 It's made by the University of Wisconsin and it lets us distribute the processing over a big network of machines.

00:21:38 This was developed even before the cloud came into bay and now the cloud's just part of it.

00:21:43 So we use that system to span out the data processing of these various types of files.

00:21:47 And we have a lot of kind of data completeness checking that we do in Python where we got to register what came in, whether we got all the packets.

00:21:54 The data can come in different orders.

00:21:55 It can be split up different ways in the recorder.

00:21:57 And you have to kind of do a bunch of data counting before you can send it down the pipeline for processing because otherwise you'll have holes in it and the processing will give you the best product.

00:22:06 So we do all that pre-data accounting analysis and when we've got something that's got all the parts, we send it on down the pipeline with a particular processing recipe that tells the pipeline to apply these exact calibration recipes, make these exact kinds of files and get them into our archive for the scientists to retrieve and do science with.

00:22:24 That's really interesting.

00:22:25 So you're doing some of the error checks and all that kind of data cleaning stuff for them before they have to pick it up.

00:22:32 Well, we also need to check to make sure that there wasn't an error in the transmission of the data that we got.

00:22:36 Everything off the telescope that we thought we were going to get, whether things need to be retransmated.

00:22:41 And we're recording all the information about the instrumentation surrounding the detectors, what the temperatures are on the telescope and saving that and associating it with the data so that when scientists are looking at it, they can make correlations with the different things that they see.

00:22:57 Oh, nice.

00:22:57 Teddy, the audience has a question that's pretty related to that.

00:23:02 How do you manage potential disruption in data transfer?

00:23:05 Like if you lose the connection?

00:23:06 Do you all have to worry about that or is that handled like below the layer?

00:23:11 Okay.

00:23:11 We do.

00:23:11 We do.

00:23:12 It does happen.

00:23:13 It is handled upstream from us.

00:23:15 The deep space network has that capability.

00:23:18 Our flight ops team has to get them sometimes to retransmit the data.

00:23:21 If we got it on the ground, but we just didn't get it to our institute, we can get it resent from another ground station.

00:23:25 But if it really didn't make it all the way down from the observatory, then they've got to go back on the next contact pass and get it to retransmit to the ground.

00:23:33 Yeah.

00:23:33 So there must be some kind of protocol exchange over the deep space network, right, that sort of takes care of that for you.

00:23:42 Yep.

00:23:42 Yep.

00:23:43 And as Megan said, that's a shared resource.

00:23:44 So if they happen to be talking to the Mars rover or they happen to be talking to something else, we got to get in line with everyone else until we get our turn again.

00:23:51 Sure.

00:23:52 Also related to that is, you know, what's the latency between the first piece of data sent and the first one received?

00:23:57 I mean, we are at great distances talking about the speed of, you know, limited by the speed of light, right?

00:24:03 So it's not milliseconds, I'm sure.

00:24:05 Yeah.

00:24:06 Megan, do you recall what the travel time deal to is?

00:24:09 I don't recall, honestly.

00:24:11 I don't know.

00:24:11 Probably by the time we get it, we're talking minutes, some range of minutes, but I haven't calculated it recently.

00:24:18 Yeah.

00:24:19 Yeah.

00:24:20 Very interesting.

00:24:21 I mean, when we talk about data, you know, you may take pictures with your camera, with a CCD in your camera, and you'll see that picture immediately.

00:24:28 And it's a square, and it looks like the scene that you got.

00:24:30 But when Mike was talking about, you know, we're waiting for the pieces of the data to come, that square gets chopped up on board the telescope and sent to us in little tiny pieces, and we have to reconstruct it.

00:24:40 Yeah.

00:24:40 You don't do it all at once, right?

00:24:42 And the other part of that analogy is if you hold your camera up and you take a picture of the sky, it's just a picture.

00:24:46 We add all kinds of what we call metadata, supplementary data to that image that tells where it was pointed in the sky, what filters were in use on the observatory, what astronomer asked for this data, what data grouping is it part of?

00:24:58 They do groupings in what they call proposals.

00:25:00 And so we have all this extra data that we put into the files so that someone coming in to our archive who didn't propose the data can still extract it and get some understanding of what was done, how that piece of observation was set up.

00:25:14 That's a good idea, of course, because if somebody says, here's a directory full of large JPEGs, do science now, right?

00:25:21 That's, well, hold on.

00:25:23 Exactly.

00:25:23 They're beautiful and they're almost useless.

00:25:26 Yeah.

00:25:26 They're almost useless for science.

00:25:28 Yeah, absolutely.

00:25:29 They would still make a good coffee table book, though, probably.

00:25:32 Once they were cleaned up of the cosmic rays and all those things that Megan talked about.

00:25:36 Once you combine all the multiple filter images, you get the pretty colors.

00:25:42 Yeah, I bet.

00:25:42 Yeah, those are amazing.

00:25:43 Samperia asks, you know, what's the max onboard storage in case, like, the data, if there's an extended period where you can't get to it?

00:25:52 You know, how long will this thing run before it's just hard drive fills up?

00:25:55 Meg, do you remember the capacity for the recorder?

00:25:58 I know, because I have Roman in my head right now, so I don't remember the JWST capacity.

00:26:02 But they take that into account, and that's how they've scheduled our contacts and downlinks with the deep space network so that we can get the data off in a reasonable time.

00:26:11 And it's not affecting, you know, scheduling of new observations.

00:26:15 So they've done a lot of work.

00:26:18 And a lot of the work that we've done with Hubble in the last 30 years, because we do scheduling and data processing on Hubble, has allowed us to understand how to best optimize those types of things.

00:26:27 Yeah, very interesting.

00:26:28 Yeah, you must have a lot of experience from Hubble because that's a lot of data as well.

00:26:32 I was wondering how much computing happens on the telescope versus how much is it just a receptor and a transmitter?

00:26:38 There is a little bit that happens on board, JWST, especially in the instruments.

00:26:42 Meg probably knows more of the details of some of the infrared instruments, but they do image differencing and summations.

00:26:49 Infrared detectors build up their signal over time.

00:26:51 And rather than send all those bits to the ground, there are some on-board calculations that are done so that they send a bit less to the ground than they actually collected.

00:27:01 Yeah, so one of the things that's different about IR instruments than UViz CCDs is that we don't, every time, there is no shutter in the IR.

00:27:11 Every time we want to know what the detector's collecting, we kind of ask it really nicely.

00:27:17 What's the voltage of this pixel?

00:27:18 Then we ask it again, and we ask it a whole bunch more times.

00:27:21 And that's the data that we send down.

00:27:23 And knowing how that signal is accumulating in the pixel without removing the signal from the pixel allows us to do cool things with IR data that allow us to reject the cosmic rays that may have come during the course of the exposure and stuff like that.

00:27:41 Nice.

00:27:41 Do you have to do, like, stabilization?

00:27:43 I know the thing is probably pretty stable out there, but it's also looking really far away.

00:27:48 Yeah, stabilization, yeah, it is looking far away.

00:27:51 And it is mostly stable.

00:27:53 Where it is orbiting around L2 is not a completely stable orbit.

00:27:57 And so they do have to do station keeping, which I believe fires rockets to make sure that it's in the correct orbit.

00:28:05 Yeah, one of the big pieces of news that was really great was ESA, the European Space Agency who launched this, did an excellent job of getting it right on target.

00:28:14 So it didn't have to correct much, which means it has extra fuel to run longer to do that, right?

00:28:18 Exactly.

00:28:19 They did an amazing job with that launch.

00:28:22 That was like a flawless launch.

00:28:23 It was really, really cool.

00:28:25 Fantastic.

00:28:26 All right, a real-time follow-up.

00:28:27 We've got Adam out in the audience says, JWST can store at least 65 gigs of science data.

00:28:32 Downloads occur in two four-hour contacts per day where each can transmit 20.6 gigs of data.

00:28:39 How about that?

00:28:39 Nice.

00:28:40 When we reach steady state science operations, that's probably correct.

00:28:43 Yeah, right now we're contacting a little more often because as they're going through commissioning, they really need to interact with the observatory much more often.

00:28:50 When we get steady state operations, they'll send plans up to the observatory.

00:28:54 And the observatory will just tick through the plan.

00:28:56 It'll look at this star.

00:28:57 It'll throw these filters in it.

00:28:58 It'll turn to this galaxy.

00:28:59 Look at these filters.

00:29:00 Right.

00:29:01 Go look at this planet.

00:29:02 And it'll basically do it a program where right now they're interacting much more often with the observatory.

00:29:07 So if you tell it to stare at this spot, this blank dark spot in the sky for four hours, you don't need to check in with it as frequently as long as it's...

00:29:15 Exactly.

00:29:15 Exactly.

00:29:16 Yeah.

00:29:16 If you told it to stare at that spot and something went wrong, James, the web telescope is smart enough to skip ahead and go to the next thing in the schedule where Hubble was very ground dependent.

00:29:25 Everything Hubble did had to be told from the ground.

00:29:27 And James was T is a little bit more automated where it will, if it's got a problem with something it's trying to do, it'll just skip ahead to the next thing and someone else will reschedule that later on.

00:29:36 So I heard that there's some kind of JavaScript stuff running actually on the telescope.

00:29:41 Is there any Python happening there or is the Python story really once the data gets back here?

00:29:46 There's no Python on the telescope.

00:29:48 There is JavaScript on the telescope.

00:29:50 It is a forked private version of JavaScript from a while ago, I believe.

00:29:57 There was a study done to think about what's the best way to do instrument commanding and that's what I believe is chosen.

00:30:04 Yeah.

00:30:05 Interesting.

00:30:05 Yeah, it's fine.

00:30:06 It doesn't really have numbers, but I guess you don't need numbers for science.

00:30:09 So it's okay.

00:30:09 Well, so, I mean, when you think about the volumes of data that are coming down from the telescope, we're also transmitting, you know, the science pixels as integers.

00:30:18 They're unsigned integer arrays.

00:30:20 And then when we do the actual processing, those are expanded into floating point.

00:30:24 So there's expansion that happens on our end for processing and storage and analysis.

00:30:28 Yeah.

00:30:29 Cool.

00:30:29 Mike, you mentioned this HT Condor.

00:30:32 Maybe tell us a bit more about this.

00:30:34 Is this something that people would find generally useful outside of telescopes?

00:30:39 Absolutely.

00:30:39 It's a very generic product developed by the University of Wisconsin.

00:30:43 Back in the day, they developed it because they had all these computers sitting around with people's desktops that they wanted to make use of.

00:30:50 You know, people were using them for three or four hours a day and then going off to lunch and off to meetings and the computers were sitting there.

00:30:56 And they used this system as a way to harness those cycles to the point where if no one's sitting at a computer, Condor could tell it could drop a job on that computer, run until the person comes back.

00:31:05 As soon as they hit a keystroke, the job would leave that computer and if needed, go off and finish its work somewhere else.

00:31:11 So it started in that realm and they just expanded and expanded over the years.

00:31:14 Kind of like SETI at home or one of these sort of grid computing stories.

00:31:18 Exactly.

00:31:18 Exactly.

00:31:19 It started in that realm.

00:31:20 Now it can process over full universities using all the machines at a university, research clusters.

00:31:26 They're government initiatives that have grid setups.

00:31:30 Now the commercial clouds are involved.

00:31:31 They have interfaces to AWS and Microsoft Cloud and a whole bunch of others.

00:31:35 So they really expanded their access.

00:31:38 It's highly used.

00:31:40 The realm that pushes it the most are the ones that do the...

00:31:44 Oh, Megan, what is the big science that just came out last year?

00:31:46 I'm throwing a blank.

00:31:47 The big science that just came out?

00:31:48 Yeah, the detectors where they found...

00:31:51 Not LIGO.

00:31:53 LIGO, thank you.

00:31:54 Oh, that's right.

00:31:56 Something about space and black holes, yeah.

00:31:58 The computing demands of those detectors are just...

00:32:01 They make JDBST look like a pen.

00:32:03 Oh, really?

00:32:04 Computing on your pen.

00:32:05 So they're really off the charts.

00:32:06 They need so many cores and clusters to do their computations.

00:32:09 And this is one of the only systems...

00:32:11 Condor is one of the only systems around that can get them the access to the cores they need.

00:32:15 And it's highly used in the LIGO community.

00:32:17 This portion of Talk Python To Me is brought to you by the Stack Overflow podcast.

00:32:23 There are few places more significant to software developers than Stack Overflow.

00:32:29 But did you know they have a podcast?

00:32:30 For a dozen years, the Stack Overflow podcast has been exploring what it means to be a developer

00:32:36 and how the art and practice of software programming is changing our world.

00:32:41 Are you wondering which skills you need to break into the world of technology or level up as a developer?

00:32:46 Curious how the tools and frameworks you use every day were created?

00:32:50 The Stack Overflow podcast is your resource for tough coding questions and your home for candid conversations with guests from leading tech companies

00:32:58 about the art and practice of programming.

00:33:00 From Rails to React, from Java to Python, the Stack Overflow podcast will help you understand how technology is made and where it's headed.

00:33:08 Hosted by Ben Popper, Cassidy Williams, Matt Kierninder, and Sierra Ford,

00:33:13 the Stack Overflow podcast is your home for all things code.

00:33:16 You'll find new episodes twice a week wherever you get your podcasts.

00:33:20 Just visit talkpython.fm/stackoverflow and click your podcast player icon to subscribe.

00:33:26 And one more thing.

00:33:27 I know you're a podcast veteran and you could just open up your favorite podcast app

00:33:31 and search for the Stack Overflow podcast and subscribe there.

00:33:33 But our sponsors continue to support us when they see results and they'll only know you're interested from Talk Python if you use our link.

00:33:40 So if you plan on listening, do use our link, talkpython.fm/stackoverflow to get started.

00:33:45 Thank you to Stack Overflow for sponsoring the show.

00:33:48 And I think Python too is a huge part of that LIGO result.

00:33:53 It is.

00:33:53 They use a lot of Python.

00:33:55 Yeah, that's awesome.

00:33:56 Condor has a full Python interface.

00:33:58 So you can talk Python right to Condor, import the package, and you're off and running.

00:34:03 Yeah, that's really neat.

00:34:05 Just pip install or Condor install HD Condor and off it goes, right?

00:34:09 Something like that?

00:34:09 Yep.

00:34:09 pip install power.

00:34:10 Awesome.

00:34:11 You mentioned that it takes advantage of these computers, which are kind of sitting idle.

00:34:17 And of course, we've got like folding at home and we've got SETI at home,

00:34:22 those types of things, which they seem to have gone away, which I think it's a little bit sad,

00:34:26 actually.

00:34:26 But there's been these things where it's like, well, if a personal computer is sitting around

00:34:30 idle and we've got a bunch of them in an office or a university or whatever, then we could use them.

00:34:35 That's great, right?

00:34:36 But you also mentioned the cloud.

00:34:37 And I guess I had never really thought about it, but I know the cloud providers don't want this

00:34:42 from you.

00:34:42 But if you pay for a virtual machine, there's a good chance that it's sitting there doing 20%

00:34:48 of what it could do, right?

00:34:49 So you could actually, if you've got 10 or 100 virtual machines running in the cloud, you could

00:34:54 say, you know what?

00:34:54 Whatever extra capacity you have, I'm going to use that for this other sort of scheduling

00:34:59 service.

00:35:00 The good thing about astronomy is most of it doesn't have to happen in real time.

00:35:03 So we can buy up the cheap cycles where the machines are not being used one hour on a clock

00:35:09 and get good deals to go off and do our reprocessing and processing that has to happen.

00:35:14 Right.

00:35:15 Like reserved instances or something like that at AWS.

00:35:18 Right.

00:35:19 HST is already doing some of their process of reprocessing in the cloud.

00:35:22 That's another point is we get the data down from the observatories once and we process it once,

00:35:27 put it in our archive, and then we reprocess it again and again as the calibration algorithms

00:35:31 improve, as software bugs are found, and as reference data, it's particularly calibration

00:35:36 reference data, special data that's used to remove those instrumental signatures that

00:35:40 Megan was talking about.

00:35:41 As all that supplemental data and algorithms improve, you rerun the data again and again and

00:35:46 you need the computational capacity to do that while data is still coming down from the telescope

00:35:50 because your archive is getting bigger all the time.

00:35:53 So you've got a bigger crank to turn to get everything up to the best possible product it

00:35:58 could be.

00:35:58 That is pretty fascinating.

00:35:59 I hadn't really thought about that you would have to reprocess the data, but sure.

00:36:03 It drives all our designs because we reprocess the data tens of more times than that very

00:36:10 first time it hits the ground.

00:36:11 Sure.

00:36:11 What does the compute stuff look like for you all?

00:36:14 Are you using GPUs?

00:36:15 Are you using some of the NumPy, SciPy, AstroPy stack to do this?

00:36:21 Those are definitely involved, yeah.

00:36:22 Yeah.

00:36:23 So GPUs, I don't think we have an excessive amount of GPUs.

00:36:27 Probably those are more in the post-processing parts of the software.

00:36:30 But those other things you mentioned, most definitely.

00:36:33 And we actually are heavy contributors to those packages as well.

00:36:37 Fantastic.

00:36:37 We do a lot to provide back to the community the software that we're creating, especially

00:36:44 our external data analysis, post-processing analysis software, so that it can be used by

00:36:50 the rest of the community.

00:36:51 Yeah.

00:36:51 Samapriya asks, what can a user at home do with the data?

00:36:56 Or do you need these huge clusters, compute clusters, to work on them?

00:37:01 There are no books?

00:37:02 Yeah.

00:37:03 So if people are out there listening, I suspect there are some astronomers who have an expertise

00:37:08 in this, but there's probably a lot of people who are just fans of space and might want to

00:37:12 play with this.

00:37:12 So any data that's public that you can access in our archive, you can download and you can

00:37:19 analyze it.

00:37:19 You can install the science calibration software.

00:37:23 So the stuff that takes the data that we've already prepared for you and does further analysis

00:37:28 on it, we have visualization tools you can install.

00:37:31 We have many different things that scientists or even non-scientists might want to play with

00:37:37 to look at the data.

00:37:38 That's all possible.

00:37:39 I do that with Hubble data all the time on my laptop and my laptop just has 16 gigabytes of

00:37:44 RAM.

00:37:44 And now Hubble data is fairly small compared to the machines we were running on.

00:37:50 Yeah, I bet when it first, how old is Hubble?

00:37:52 20 years?

00:37:53 30.

00:37:54 30.

00:37:54 Yeah, 30-year-old computers probably thought that data wasn't small.

00:37:57 Yeah.

00:37:57 So we've gone from terminal services to desktops and laptops and back to terminal services eventually

00:38:03 in the near future because of the size of the data.

00:38:05 Yeah.

00:38:05 So do you have notebook servers that are running close to the data that then you can log into

00:38:11 and play with?

00:38:11 Or what's that look like?

00:38:12 So we do at different levels.

00:38:14 You're talking about Jupyter Notebooks, Jupyter Lab, that type of thing?

00:38:17 Yeah.

00:38:18 So that does exist.

00:38:19 We've been playing around with science platforms in the cloud to give people access to not only

00:38:25 the software, but the data in a very easy way.

00:38:28 And I think Jupyter Lab makes that really, really effective for the tools that we can provide

00:38:34 to people.

00:38:34 Yeah.

00:38:35 But you can also run it yourself on your own local machines.

00:38:37 Sure.

00:38:38 As the data gets bigger and bigger, part of the cost and latency is just transferring it,

00:38:43 right?

00:38:43 So if you can run your compute close to it, you can save money by not transferring it and all

00:38:47 sorts of things, right?

00:38:48 Exactly.

00:38:48 Or reading it into memory for very, very large files.

00:38:51 As a system, the system itself needs to be very large to process the sheer volume of data

00:38:56 that we get and are constantly getting and reprocessing and storing and serving.

00:39:00 But for individual data pieces, it's still very possible for people to process it on their

00:39:06 own.

00:39:06 Sure.

00:39:06 Do you use things like Dask or any of these sort of Panda NumPy-like things that scale

00:39:11 out to larger data?

00:39:12 Yeah.

00:39:12 And it depends on the tool and what the purpose is that you're using.

00:39:17 Sure.

00:39:17 For sure.

00:39:18 Mike, got some thoughts on this before I move us along?

00:39:21 No, that's a really good summary of the picture.

00:39:24 Yeah.

00:39:24 And I think, I'm pretty sure at this point, all the public HST data is in the cloud.

00:39:28 I think it's all on AWS.

00:39:30 And I believe you can work with it there.

00:39:32 Yeah.

00:39:33 Especially if you've got research to do.

00:39:35 Yeah.

00:39:35 So one of the things that got my attention, besides someone, I think, sending me a message,

00:39:40 hey, you should talk to the JWST folks, is you have over at, on GitHub, you have the Space

00:39:46 Telescope Science Institute, where you've got all kinds of various things that people can

00:39:52 go play with, right?

00:39:53 Maybe tell us a bit about some of the highlights over there.

00:39:56 The one that I ran across is just JWST.

00:39:58 Yeah.

00:39:58 Which is, it describes itself as the Python Library for Science Observations from the JWST.

00:40:04 Yeah.

00:40:05 So this is the, what we call the science calibration package for JWST.

00:40:10 The software that lives here is able to do the detector calibration that we talked about

00:40:17 and image combination and everything else that we need to do to create the standard products

00:40:22 we've agreed to create for the mission.

00:40:24 That's all contained in this package.

00:40:26 And this package gets installed in our backend systems to be run as we're processing the data.

00:40:32 And it's ready to be processed at this level.

00:40:34 So this is what users would install if you wanted to reprocess or do higher level analysis,

00:40:42 the JWST data for the different instruments.

00:40:44 You spoke about the reprocessing and the reanalyzing.

00:40:48 So you would install this.

00:40:49 And if you had an idea on how to maybe do different noise reduction or other processing,

00:40:55 this is what you use.

00:40:56 Exactly.

00:40:57 Exactly.

00:40:58 Exactly.

00:40:58 We performed some base calibration to put the data in the archive and to make it somewhat

00:41:03 usable.

00:41:03 But most high level scientists are doing their own recalibration and they're tuning the data

00:41:08 for what they're trying to get out of it.

00:41:10 Especially if they're working at the margins of noise and other things where they really have

00:41:14 to work with the data to get out of it to fit their science needs.

00:41:17 So a lot of this is the byproduct of this proposal process because we don't know where

00:41:21 the science is.

00:41:22 It's going to come through.

00:41:23 We try to provide the best generic processing for all the data.

00:41:27 Right.

00:41:27 It's pretty neat that this is just here on GitHub.

00:41:30 That's cool.

00:41:31 Yeah.

00:41:31 I suspect when Hubble came out, it was not like, well, here's the open source thing and

00:41:35 here's how you contribute back in the same way.

00:41:37 Right.

00:41:37 I'm sure it was shared to some degree, but the openness of science and really the computational

00:41:44 bits of science over on GitHub is pretty amazing.

00:41:47 It's a lot of fun.

00:41:47 I think we started using GitHub when it first came out.

00:41:50 We were, especially during Hubble, using subversion and even older version control systems.

00:41:56 CVS or something dreadful like that.

00:41:58 CVS, RCS, even.

00:41:59 Whatever we could use.

00:42:01 Yeah.

00:42:01 They were run on internal systems and managed on internal web pages.

00:42:06 So when GitHub came out, it was really nice to be able to share our software, not only with

00:42:12 astronomers in the larger community, but with other missions that we interact with and to

00:42:18 be able to talk to them about how we develop and accept changes and improvements into the

00:42:23 software.

00:42:24 Yeah.

00:42:24 You see right here, there's a 541 issues and 20 PRs that are open, but 3,462 that are closed.

00:42:32 Yeah.

00:42:33 And that's pretty amazing.

00:42:33 Yeah.

00:42:34 That's what we do a lot of work.

00:42:37 And JWST is a new mission now.

00:42:39 Yeah.

00:42:40 Awesome.

00:42:40 So another thing that I ran across that looks interesting is the web PSF, which is a simulation

00:42:48 tool, right?

00:42:49 Maybe tell people about this.

00:42:50 So web is obviously the telescope.

00:42:52 PSF are point spread functions.

00:42:56 This is the statistical pattern that light falling on the detector from a star would make.

00:43:00 And you can predict what that pattern is going to be based on the optics that are in your

00:43:06 telescope.

00:43:06 And so this piece of software takes that understanding of the optics in the telescope and how light

00:43:13 gets transmitted through those optics, including through different wavelengths, and create simulated

00:43:19 images of what we might be able to see.

00:43:22 This allows us to not only predict how the telescope is going to perform in different ways, but develop

00:43:30 our software, develop the algorithms that we use to do pull out stars and stuff from images.

00:43:36 Yeah.

00:43:37 Very neat.

00:43:38 I suspect if people didn't have access to the telescope and they wanted to play around

00:43:41 with some stuff, maybe they could use this.

00:43:44 Yeah, they could.

00:43:45 There's other simulation tools that are out there that will simulate full astronomical scenes

00:43:49 as well.

00:43:50 So not just individual stars, but galaxies and the combination of the two.

00:43:55 Do you have something you can point people at?

00:43:56 I think I'd have to send you a link.

00:43:59 Yeah, we'll put it in the show notes.

00:44:01 Yeah.

00:44:01 Okay.

00:44:01 So people can get to it.

00:44:03 That's great.

00:44:03 Let's do that.

00:44:03 Yeah.

00:44:04 Awesome.

00:44:04 Another thing I ran across looking at all this stuff is this place called Astro Conda.

00:44:09 And there's a whole bunch of stuff, just tons of libraries in here.

00:44:14 It looks like there's a lot of neat things like, for example, working with the ASDF file format,

00:44:19 which I suspect is something that you all provide a lot of.

00:44:22 Yeah.

00:44:23 And so on.

00:44:23 So we developed that format.

00:44:25 We wrote that format.

00:44:27 The primary interpreter is in Python.

00:44:29 So a little bit of astronomy history.

00:44:31 Astronomy for a very long time has used a file format called FITS, Flexible Image Transport

00:44:37 System.

00:44:37 It started around the time data was being saved on tapes, a tape store.

00:44:41 You might want to optimize for different things if it's going on tape and SSD.

00:44:46 Right.

00:44:47 And so it's been in the community a long time.

00:44:49 And a lot of community tools are based on it, accessing it.

00:44:52 It was a big part of this other thing in the astronomy community called IRAF, which was

00:44:59 a common software package.

00:45:01 It actually had its own virtual operating system and command line languages that did the reduction

00:45:06 for us.

00:45:07 One of the things that JWST wrote about is we needed to be able to handle those complex

00:45:14 optical path descriptions for how the light from a star you're observing gets onto the

00:45:20 detector and how you translate those positions back and forth.

00:45:24 So where's telescope pointed?

00:45:25 Where is this light as it's moving around?

00:45:28 And how can I tell at this pixel what star that relates to in the sky?

00:45:32 Yeah, it seems very non-trivial because you've got all these different hexagonal pieces that

00:45:37 are independently adjustable and you've got to sort of reassemble that into a continuous

00:45:41 thing, right?

00:45:41 So that's part of it.

00:45:42 And even larger part is the number of optics that are in that chain and then the optics

00:45:47 inside each of the instruments.

00:45:48 And some of them are spectroscopic instruments that divide light into its constituent wavelengths.

00:45:54 And those wavelengths have different travel paths and will fall on the detector in different

00:45:59 places in mathematically predictable ways, but not always simple mathematically predictable

00:46:04 ways.

00:46:05 And so saving that information was really difficult in fits.

00:46:09 And we developed this new format that will allow us to save analytical models into the

00:46:15 data itself that can then be opened up by the users and very easily used to understand the

00:46:21 relationship between the stars and the pixels that they are looking at and the stars in the

00:46:26 sky.

00:46:26 And so we started JWST with that and it actually gets packaged into a fits file, but in later

00:46:33 missions, we'll be using just as diff.

00:46:35 Yeah, that's really neat.

00:46:36 So lets you save more of just the raw data.

00:46:40 It gives us a really nice way of saving information we need to understand about the data along with

00:46:47 the data itself.

00:46:47 We'd also save the binary arrays.

00:46:49 It's actually, if you were to look at it, the text part of the format is YAML based on JSON

00:46:55 schema standard.

00:46:56 Yeah.

00:46:56 Oh, fantastic.

00:46:56 So looking through this AstroConda thing here, obviously there's stuff that's very focused

00:47:03 on astronomy like ASDF, but there's also other cool libraries like APTRS.

00:47:09 There's all these like little things.

00:47:13 So if I want to write something to a temp file or where's my user home or stuff like that,

00:47:19 right?

00:47:19 You can ask questions like that of this APTRS thing.

00:47:22 Yeah, that's interesting.

00:47:23 I actually, I haven't looked at APTRS, but it must be being used by one of our other sub

00:47:28 packages and somebody wrote it, wrote it for a good purpose.

00:47:30 This AstroConda site that you're looking at was, you know, this repackaging of tools that

00:47:36 are written in Python, often with C extensions that can be used by astronomers in the community

00:47:43 to do what they need to do to look at the data, calibrate the data.

00:47:46 And so this AstroConda channel is a Conda channel that allows us to organize that information

00:47:51 and deliver it to users who are using Conda environments.

00:47:54 Nice.

00:47:55 Or virtual environments.

00:47:56 Yeah.

00:47:56 You can say something like install this channel, everything in this channel, and then you'll

00:48:00 basically be able to do most of the work that we're talking about or something like that.

00:48:05 Right.

00:48:05 And so most of these are now available also separately on CondaForge and PyPy.

00:48:10 So often people will install from there too.

00:48:13 Sure.

00:48:13 Yeah.

00:48:13 So we've got, let's see, ASTEval, a safe, minimalistic, evaluated for Python.

00:48:19 That's pretty cool.

00:48:20 You've got mysterious ones like CubeTools, which just refuse to identify themselves.

00:48:25 That's actually for 3D images.

00:48:27 So we stack things up.

00:48:29 Yeah, cool.

00:48:30 Anyway, I'll put the link to this in the show notes so people can look around.

00:48:33 It's just interesting to see all the stuff that you were bringing together here.

00:48:37 You've got the STSI version.

00:48:40 That's, you know, a meta package for Conda that will install the individual things that

00:48:44 go together.

00:48:45 Yeah, of course.

00:48:45 Of course.

00:48:46 All right.

00:48:47 This JWCS one sounds pretty interesting.

00:48:51 One of the challenges with the telescopes, I'm sure, is, you know, things orbit around other

00:48:57 things which are orbiting around other things, you know, around the sun, which is around through

00:49:02 the galaxy and whatnot.

00:49:03 Right.

00:49:03 So figuring out where you're pointing is probably pretty tricky.

00:49:07 Is that what this library does?

00:49:08 So when I was talking about being able to understand the light and where it is in the sky and on

00:49:13 the detector, this is what we're saving in the ASDIF file.

00:49:16 These GWCS representations, generalized world coordinate system.

00:49:20 And that's a mouthful.

00:49:22 World coordinate systems are what astronomers use to relate, you know, an undistorted scene

00:49:27 on the sky to what you have on the detector.

00:49:30 And it changes depending on what the telescope optics are.

00:49:33 But what GWCS provides is layered on top of astropy modeling, which allows you to string

00:49:41 together mathematical models to translate coordinates between two different systems.

00:49:46 So we use this for translating perfect sky coordinates to detector coordinates and intermediate

00:49:52 systems as well.

00:49:53 And one of the benefits to that is sometimes there are effects that happen in the detector

00:50:00 that should be corrected at different stages along the way.

00:50:02 And you can insert those corrections in this pipeline of models.

00:50:06 It makes sense to correct in this coordinate system, potentially, rather than at different

00:50:12 levels.

00:50:13 Something like that.

00:50:13 I see.

00:50:14 Right.

00:50:14 Right.

00:50:15 Yeah.

00:50:15 Pretty fascinating.

00:50:16 It sounds complicated.

00:50:17 It's cool.

00:50:18 Yeah.

00:50:19 It's cool.

00:50:19 It is definitely cool.

00:50:20 It's built on a lot, you know, on other open source code that is useful for more things

00:50:25 than just astronomy.

00:50:26 Right.

00:50:27 Modeling is useful for everything in science.

00:50:30 Fitting is useful for everything.

00:50:31 So it's cool that we can, you know, help provide tools like that to the community.

00:50:35 Yeah, for sure.

00:50:36 What's the machine learning story around the telescopes and the data?

00:50:41 Are you all doing anything with that?

00:50:42 Any AI stuff?

00:50:44 Avery, you want to take it?

00:50:45 So I'll talk about, you can pipe up Mike for the HST stuff if you want.

00:50:49 I'm not familiar with that aspect.

00:50:50 I know.

00:50:51 So, yeah, obviously we have data science groups at the Institute that are doing a lot

00:50:56 of machine learning.

00:50:57 Machine learning can be applied to things like the catalogs of objects that astronomers scrutinize

00:51:03 details about what these things are that are confirmed that can be used to build up information

00:51:07 about unknown images.

00:51:09 Machine learning for processing.

00:51:11 We've started doing some of that for the HST processing in order to optimize scheduling,

00:51:17 time, spreading the data out, understanding if there are certain metadata keywords, like

00:51:23 what Mike was talking about before, that we know will affect the processing in certain

00:51:27 ways.

00:51:27 We can detect that early and make up for it.

00:51:30 Interesting.

00:51:31 How much of a challenge is an optimization problem of who gets time when?

00:51:35 So this person wants to look here and do this, then that person is going to look over there.

00:51:39 But if there's somebody that wants to look in the middle, maybe you could save some fuel

00:51:43 by turning a heart way, letting them do their job, like skip ahead in line and then keep moving.

00:51:49 It's a great point.

00:51:50 It's not only fuel, it's you don't want to move your mechanisms more often than you have

00:51:54 to.

00:51:54 So you don't want to flip the filter wheel three positions left, 10 positions right,

00:51:58 when you could have done that in a more economic way and save the wear and tear on your system.

00:52:02 So there's a lot of optimization that goes into the planning and scheduling system.

00:52:05 And of course, with astronomy, there's visibility.

00:52:08 You've got a certain targets are not visible, not visible at all times of the year, just depending

00:52:13 on where they are relative to the sun.

00:52:14 Right.

00:52:15 You can't turn around and look right past the sun because it'll...

00:52:17 Oh no.

00:52:18 JDBC especially cannot look back.

00:52:22 Even in the software, there are defined regions of avoidance that we are not allowed to move

00:52:27 the telescope.

00:52:28 And so we have planning and scheduling systems that know what these things are, that know

00:52:34 the range of places that this telescope proposal approval community has decided to point the

00:52:42 telescope.

00:52:42 And it figures out what is the most optimal way to organize those observations to get them

00:52:49 to the astronomers as fast as possible.

00:52:51 I see.

00:52:52 Towards the end of our time together.

00:52:54 What other things are you doing with Python you think people find interesting that maybe

00:52:58 I haven't asked you about yet?

00:52:59 Or did I cover everything?

00:53:01 We covered a lot of graph.

00:53:04 Yeah.

00:53:04 There's a lot of nuts and bolts that the data processing side has to do.

00:53:07 You know, we interface with a lot of databases.

00:53:09 So we need database interface packages that talk to Microsoft SQL Server and SQLite database

00:53:14 files and things like that.

00:53:16 As Megan said, we do a lot of parsing.

00:53:18 So we're JSON parsing and XML parsing.

00:53:20 And so all those packages come into play.

00:53:23 And then there's good old-fashioned bit busting where we've got to get into the telemetry binary

00:53:26 files and bust out the sections of bits that are the data from the wrappers that come down

00:53:32 that let us make sure we got the right data.

00:53:34 Figure it out.

00:53:35 Yeah.

00:53:35 Exactly.

00:53:36 So various packages across the Python scheme help us.

00:53:39 And there are a lot of external community packages that help us as well.

00:53:42 And then there's also all the documentation that has to be done for every user, especially

00:53:47 for our externally delivered packages of Sphinx.

00:53:50 Okay.

00:53:50 And code documentation.

00:53:51 We have a lot of our stuff on Read the Docs.

00:53:54 A lot of our infrastructure for testing.

00:53:56 I just had the folks on from Myst and have to do a better search to get something other than

00:54:02 a video game.

00:54:03 But the Myst project, do you still do all your stuff in restructured text?

00:54:06 Or are you doing any of the markdown things with Myst?

00:54:09 I'm not doing anything with Myst.

00:54:11 I have done a lot of restructured tests and pure LaTeX.

00:54:15 And Sphinx helps with those two things, too.

00:54:18 A lot of the scientists themselves just write pure LaTeX.

00:54:21 They just write all their papers in pure LaTeX.

00:54:23 And the symbols for it are so crazy.

00:54:25 It's so many.

00:54:26 Yeah.

00:54:27 But what comes out of it is really remarkable.

00:54:29 So, yeah, it's worth it.

00:54:31 I mean, it's really pretty.

00:54:32 I remember being introduced to it even as an undergrad in the 90s.

00:54:36 And it was like, this actually looks much cooler than Word.

00:54:39 Yeah.

00:54:40 Absolutely.

00:54:41 Yeah.

00:54:41 When I was in grad school, I did some of my homework in LaTeX.

00:54:44 But I haven't touched it for many, many years.

00:54:46 Not anything practical.

00:54:48 Yeah.

00:54:49 They sell a lot of the journals and a lot of the astronomy conferences expect you to turn in

00:54:54 posters and papers written in LaTeX that conform to their standards.

00:54:58 Yeah.

00:54:59 Absolutely.

00:54:59 All right.

00:55:00 One final question I want to ask you about.

00:55:02 And Megan, you said you were working on this.

00:55:05 It's the Nancy Grace Roman Space Telescope.

00:55:08 Yeah.

00:55:08 We haven't even really got the web telescope fully online.

00:55:13 And you all are working on this next one.

00:55:15 Yeah.

00:55:16 Give us an elevator pitch for this so people can be excited.

00:55:18 And what's the time frame?

00:55:20 So Nancy Grace Roman is really cool.

00:55:23 It is also going to go out to L2 where JWST is sitting in part because it's an infrared telescope

00:55:30 as well.

00:55:31 It's focused in near infrared.

00:55:32 So more similar.

00:55:33 And the web one might get lonely.

00:55:34 So it needs a friend.

00:55:35 Yeah.

00:55:35 Yeah.

00:55:36 I mean, there are some other telescopes out there too.

00:55:38 But yes, we need more friends.

00:55:40 And so it is about, the mirror is about the same size as Hubble.

00:55:45 But its optical prescription gives it a much wider field of view.

00:55:48 So 100 times the field of view of Hubble.

00:55:50 And it has way more detectors than pixels.

00:55:54 About 300 megapixels.

00:55:55 So there's 18 detectors.

00:55:57 And every time we take a picture, all those detectors are going off.

00:56:01 So there's also a lot more data volume coming down that we get to process.

00:56:06 But a lot of cool things we can do.

00:56:08 We can reach the level of the Hubble deep field very fast.

00:56:12 We're going to cover about 50 times more space in the first five years of this mission

00:56:17 than Hubble has in 30 years.

00:56:19 So it's going to provide a lot of cool things for the community.

00:56:23 It's also a survey telescope.

00:56:26 So a lot of its time is dedicated to some surveys that want to be done to support the community.

00:56:31 Looking for exoplanets.

00:56:33 And they expect to find several thousand exoplanets during the first five years of the mission.

00:56:39 Investigating dark energy and the expansion of the universe and the physics behind that.

00:56:44 And so and other things that I'm sure astronomers will come up with.

00:56:47 One of the cool things is that it will be launched to be compatible and collaborative with JWST.

00:56:53 And LSST, one of the large ground-based missions.

00:56:57 And Euclid, one of the European-based missions.

00:57:00 So it's really cool to be in this era of astronomy where the missions can really be, you know,

00:57:04 working together to make cool new discoveries and take data.

00:57:08 That's fantastic.

00:57:08 I haven't even thought of them working together.

00:57:10 Quick question from Julian in the audience.

00:57:12 We'll wrap it up.

00:57:13 How many of the experiments are providing data through the pipelines immediately versus

00:57:18 that priority, like private period that we talked about?

00:57:22 So some of that is up to the scientists.

00:57:24 The scientists can choose when they submit their proposal to make the data public immediately.

00:57:30 As soon as we get it, we process it, it's in the archive and it's there.

00:57:33 That's very, very fast.

00:57:35 One of the standards for Hubble is there's typically a year that the scientists have to look at the

00:57:41 data exclusively with their group and do the science they want to do.

00:57:44 And then it'll be released.

00:57:45 But I think that there are also cases of longer than a year.

00:57:48 And wasn't Roman going to...

00:57:49 Roman has...

00:57:50 Yeah.

00:57:51 Roman has no proprietary period.

00:57:53 The data will all be public immediately and we'll be serving data in the cloud and on

00:57:57 front.

00:57:58 Wow.

00:57:58 So no dragging your feet if you're trying to make a discovery and want to get credit for

00:58:02 it.

00:58:02 No, no.

00:58:03 Yeah.

00:58:04 No scooping other people either.

00:58:06 You got to be on the ball.

00:58:07 That's right.

00:58:08 Okay.

00:58:08 So I think we got to leave it there, but it's really fascinating to see the ways that

00:58:13 Python and the data science tools are connecting us with space and these discoveries.

00:58:18 So thanks for sharing those.

00:58:20 Yeah.

00:58:20 Thanks for having us.

00:58:21 You're quite welcome.

00:58:22 Yeah.

00:58:22 You bet.

00:58:22 Now, before you get out of here, you got to answer the final two questions, but there's

00:58:25 a couple of you.

00:58:26 So just maybe lightning around.

00:58:29 So if you're going to write some Python code, what editor would you use these days?

00:58:33 I'm old school.

00:58:34 I'm a VI editor.

00:58:35 Right on.

00:58:37 Yeah.

00:58:37 I use VI, especially if I'm logging into servers and stuff.

00:58:40 I'm doing something quick.

00:58:42 If I'm doing a more complicated development, I usually use Sublime.

00:58:45 Okay.

00:58:46 Fantastic.

00:58:46 But in the past, I've used PyCharm and other ones.

00:58:48 Sure.

00:58:48 And how about a notable PyPI package?

00:58:51 Some library you came across recently and you're like, oh, this is so cool.

00:58:54 People should know about this.

00:58:56 I would recommend the Condor package.

00:58:57 If you've got to do any kind of distributed data processing, you should really know what

00:59:02 Condor is providing.

00:59:03 So I highly recommend exploring that.

00:59:05 Fantastic.

00:59:06 Megan?

00:59:07 I know we've talked about this.

00:59:08 I was so excited to see PyLab come out because it provides us, not PyLab, I'm sorry, JupyterLab.

00:59:13 It provides us with so many opportunities to get the data and the analysis to our scientists in the easiest way possible and allows them flexibility to work on it with their colleagues and produce really good science.

00:59:27 But from the other side, I actually saw recently this package called Silly, which just produces random bits of data you can use for tests with all sorts of entertaining things.

00:59:39 Yeah.

00:59:40 Silly.

00:59:40 I think you can even have it emit like Chuck Norris quotes and stuff like that, which can make it, you know, oh, no, that's PyJokes.

00:59:47 That was the other one I've heard recently, PyJokes.

00:59:49 Oh, I love PyJokes.

00:59:50 You can have it.

00:59:51 Yes.

00:59:51 I love Chuck Norris.

00:59:53 Yeah.

00:59:54 He only makes programming better.

00:59:56 He does.

00:59:56 And so silly is like faker, but silly.

01:00:01 It's silly.

01:00:02 I love it.

01:00:03 I love it.

01:00:04 All right.

01:00:04 Cool.

01:00:05 Well, thank you both for being here.

01:00:07 If people want to get started with some of the JWST data or some of the libraries, you know, what would you say?

01:00:12 Go to our archive.

01:00:13 Yeah.

01:00:14 Archive.stsei.edu.

01:00:16 And as soon as the JWST data is coming through that they can look at, the public available data will be there.

01:00:23 Yeah.

01:00:23 And there's tools already there.

01:00:24 You can see, you know, the images, what they look like.

01:00:27 You can play with them a little bit.

01:00:28 You don't even have to know astronomy.

01:00:29 They have both the FITS formats that make them talk about from scientists.

01:00:32 And they have plain old JPEG preview images for folks to just browse and get a quick look at the sky.

01:00:37 Okay.

01:00:38 Fantastic.

01:00:38 All right.

01:00:39 Well, Megan and Mike, thank you so much for being here.

01:00:41 It's been great to chat JWST and space in general with you.

01:00:45 Yeah.

01:00:45 Thank you so much.

01:00:46 It was fun.

01:00:46 Take care.

01:00:47 Yeah.

01:00:47 You bet.

01:00:47 Bye.

01:00:49 This has been another episode of Talk Python To Me.

01:00:51 Thank you to our sponsors.

01:00:53 Be sure to check out what they're offering.

01:00:54 It really helps support the show.

01:00:56 Datadog gives you visibility into the whole system running your code.

01:00:59 Visit talkpython.fm/datadog and see what you've been missing.

01:01:03 We'll throw in a free t-shirt with your free trial.

01:01:06 For over a dozen years, the Stack Overflow podcast has been exploring what it means to be a developer

01:01:11 and how the art and practice of software programming is changing the world.

01:01:14 Join them on that adventure at talkpython.fm/stackoverflow.

01:01:19 Want to level up your Python?

01:01:20 We have one of the largest catalogs of Python video courses over at Talk Python.

01:01:24 Our content ranges from true beginners to deeply advanced topics like memory and async.

01:01:30 And best of all, there's not a subscription in sight.

01:01:32 Check it out for yourself at training.talkpython.fm.

01:01:35 Be sure to subscribe to the show.

01:01:37 Open your favorite podcast app and search for Python.

01:01:40 We should be right at the top.

01:01:41 You can also find the iTunes feed at /itunes, the Google Play feed at /play,

01:01:46 and the direct RSS feed at /rss on talkpython.fm.

01:01:51 We're live streaming most of our recordings these days.

01:01:54 If you want to be part of the show and have your comments featured on the air,

01:01:57 be sure to subscribe to our YouTube channel at talkpython.fm/youtube.

01:02:02 This is your host, Michael Kennedy.

01:02:04 Thanks so much for listening.

01:02:05 I really appreciate it.

01:02:06 Now get out there and write some Python code.

01:02:08 We'll see you next time.

